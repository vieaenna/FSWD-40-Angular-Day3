<!DOCTYPE html>

<html lang="en">

<head>

 <title>CodeFactory</title>

 <meta charset="utf-8">

 <meta name="viewport" content="width=device-width, initial-scale=1">

 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>

</head>

<body>

 <div class="container">

   <h2>Fruits and Vegetables</h2>

   
<div *ngIf="appState == 'extend'">

  <div class="row">

    <div class="col-lg-6">

      <button class="btn btn-info" (click)="changeState('default')">close</button>

    </div>

    <div class="col-lg-6">

      <div *ngFor="let foodapp of foodapps">

        <div *ngIf="foodapp.$key == activeKey" >

          {{foodapp.category}}

        </div>

      </div>

    </div>

  </div>

</div>

<div *ngIf="appState == 'default'" class="row">
   <div class="col-lg-12">
     <button class="btn btn-danger" (click)="changeState('add')">Add new food</button>
   </div>
 </div>

<div *ngIf="appState == 'default'" class="row">
    <div class="col-lg-12">
      <h3>my filter</h3>
      <label>Filter Category
        <select (change)="filterCategory(filteredCategory.value)" #filteredCategory >
          <option value="0">Select</option>
          <option *ngFor="let categories of categories" value="{{categories.category}}">
            {{categories.category}}
          </option>
        </select>
      </label>
    </div>
  </div>


      
   

<div *ngIf="appState == 'add'">
          <div class="panel panel-primary">
              <div class="panel-heading">Add new Food</div>
              <div class="panel-body">
                  <form (submit)="addFood(name.value,category.value,vitamin.value)">
                      <div class="row">
                          <div class="col-lg-6">
                              <div class="form-group">
                                  <label for="name">Name:</label>
                                  <input type="text" class="form-control" #name>
                              </div>
                              <label for="sel1">Select list (select one):</label>
                              <select class="form-control" #category>
                                  <option class="form-control" value="0">Select</option>
                                  <option class="form-control" *ngFor="let categories of categories" value="{{categories.category}}">
                                      {{categories.category}}
                                  </option>
                              </select>
                              <div class="form-group">
                                  <label for="vitamin">Vitamin:</label>
                                  <input type="text" class="form-control" #vitamin>
                              </div>
                              <button type="submit" class="btn btn-success">Submit</button>
                          </div>
                      </div>
                  </form>
              </div>
          </div>
      </div>


   <table class="table table-striped">

     <thead>

       <tr>

         <th>Name</th>
         <th>Category</th>

         <th>Vitamin</th>

       </tr>

     </thead>

     <tbody>

       <tr *ngFor="let foodapp of foodapps" stupid=[(triggered)]>

         <td>{{foodapp.name}}</td>

         <td>{{foodapp.category}}</td>

         <td>{{foodapp.vitamin}}</td>

         <button (click)="changeState('extend', foodapp.$key)" class="btn btn-info">More</button>

       </tr>

     </tbody>

   </table>

 </div>

</body>

</html>